<!doctype html>
<html>

	<head>
		<meta charset="utf-8">
		<title></title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link href="../css/mui.css" rel="stylesheet" />
	</head>

	<body>
		<div class="mui-content">
			<div id="demo1" style="height:600px;border:1px solid #ccc;padding:1px;"></div>
		</div>
		<button id="del">删除相册</button>
		

		<script src="../js/mui.js"></script>
		<script src="../js/jquery.min.js"></script>
		<script src="../js/facepp_sdk.js"></script>
		<script src="../js/common.js"></script>
		<script src="../js/exif.js"></script>

		<script src="../js/esl.js"></script>
		<script type="text/javascript">
			var facepp = new FACEPP(APIKEY, APISERET, 1);
			document.getElementById('del').addEventListener('tap',function(){
				let param = {"facealbum_token": "1557229865-d0a35015-fa8e-4f8d-9146-29193d118f53"};
				facepp.deleteAlbum(param,function success(e){
					console.log(e);
				},function failed(err){
					console.log(err);
				});
			});
			require.config({
				packages: [{
					name: 'echarts',
					location: '../echarts/src',
					main: 'echarts'
				}, {
					name: 'zrender',
					location: '../zrender/src',
					main: 'zrender'
				}]
			});
			var option = {
				title: {
					text: '人物关系：乔布斯',
					subtext: '数据来自人立方',
					x: 'right',
					y: 'bottom'
				},
				tooltip: {
					trigger: 'item',
					formatter: '{a}  {b}'
				},
				toolbox: {
					show: true,
					feature: {
						restore: {
							show: true
						},
						magicType: {
							show: true,
							type: ['force', 'chord']
						},
						saveAsImage: {
							show: true
						}
					}
				},
				legend: {
					x: 'left',
					selected: {
						'朋友': true,
						'同学': true,
						'同事': true,
						'兄弟': true,
						'姐妹': true,
						'家人': true,
						'父母': true,
						'孩子': true,
						'爱人': true
					},
					data: ['朋友', '同学', '同事', '兄弟', '姐妹', '家人', '父母', '孩子', '爱人']
				},
				isShowScrollBar: false,
				series: [{
					type: 'kforce',
					categories: [{
							name: '人物',
							itemStyle: {
								normal: {
									// color: '#ff7f50'
								}
							}
						},
						{
							name: '家人',
							itemStyle: {
								normal: {
									color: '#ff7f50'
								}
							}
						},
						{
							name: '朋友',
							itemStyle: {
								normal: {
									color: '#87cdfa'
								}
							}
						}
					],
					itemStyle: {
						normal: {
							label: {
								show: true,
								textStyle: {
									color: '#000000'
								}
							},
							nodeStyle: {
								brushType: 'both',
								strokeColor: 'rgba(255,215,0,0.4)',
								lineWidth: 2
							}
						},
						emphasis: {
							linkStyle: {
								strokeColor: '#5182AB'
							}
						}
					},
					minRadius: 15,
					maxRadius: 25,
					density: 0.8,
					attractiveness: 0.8,
					nodes: [{
							category: 0,
							name: '乔布斯',
							value: 10,
							shapeType: 'rectangle',
							onclick: function(params) {
								alert(params.target.style.text);
								params.target.style.text = "雷布斯";
							},
							itemStyle: {
								normal: {
									width: 100,
									height: 80
								}
							}
						},
						{
							category: 1,
							name: '丽萨-乔布斯',
							value: 2,
							shapeType: 'ellipse',
							itemStyle: {
								normal: {
									a: 40,
									b: 20
								}
							}
						},
						{
							category: 1,
							name: '保罗-乔布斯',
							value: 3
						},
						{
							category: 1,
							name: '克拉拉-乔布斯',
							value: 3
						},
						{
							category: 1,
							name: '劳伦-鲍威尔',
							value: 7
						},
						{
							category: 2,
							name: '史蒂夫-沃兹尼艾克',
							value: 5
						},
						{
							category: 2,
							name: '奥巴马',
							value: 8,
							shapeType: 'rectangle'
						},
						{
							category: 2,
							name: '比尔-盖茨',
							value: 9
						},
						{
							category: 2,
							name: '乔纳森-艾夫',
							value: 4
						},
						{
							category: 2,
							name: '蒂姆-库克',
							value: 4
						},
						{
							category: 2,
							name: '龙-韦恩',
							value: 1
						},
					],
					links: [{
							source: 1,
							target: 0,
							weight: 1,
							onclick: function(params) {
								alert(params.target.style.text);
							},
							itemStyle: {
								normal: {
									lineWidth: 10,
									text: '丽萨-乔布斯',
									textColor: '#030303',
									textFont: 'bold 15px verdana',
									textPosition: 'inside'
								}
							}
						},
						{
							source: 2,
							target: 0,
							weight: 2
						},
						{
							source: 3,
							target: 0,
							weight: 1
						},
						{
							source: 4,
							target: 0,
							weight: 2
						},
						{
							source: 5,
							target: 0,
							weight: 3
						},
						{
							source: 6,
							target: 0,
							weight: 6
						},
						{
							source: 7,
							target: 0,
							weight: 6
						},
						{
							source: 8,
							target: 0,
							weight: 1
						},
						{
							source: 9,
							target: 0,
							weight: 1
						},
						{
							source: 10,
							target: 0,
							weight: 1
						}

					]
				}]
			};
			require(
				[
					'echarts',
					'echarts/chart/kforce',
				],
				function(ec) {
					var myChart = ec.init(document.getElementById('demo1'));
					myChart.setOption(option);
				}
			)
		</script>
	</body>

</html>
